import{j as e,r as l,R as C}from"./react-BMrMXMSG.js";import{c as F}from"./react-dom-XhyPzpGK.js";import{c as B}from"./zustand-3uy3gfa1.js";import{F as I}from"./@monaco-editor-BrJCHBAK.js";import{L as P,S as U,a as H,D as j,U as M,P as A,T as G,R as V,F as W,b as _,H as q,G as K}from"./lucide-react-D56Oj-Qe.js";import{S as Q}from"./@radix-ui-C1GVTVHq.js";import{c as J}from"./class-variance-authority-Bb4qSo10.js";import{c as X}from"./clsx-B-dksMZM.js";import{t as Y}from"./tailwind-merge-BkWO730n.js";import{D as u}from"./vaul-OreU8RvA.js";import{P as Z,a as ee,b as te}from"./react-resizable-panels-CUcdorkG.js";import"./scheduler-CzFDRTuY.js";import"./use-sync-external-store-CIXbO2Kd.js";import"./state-local-BBNhjlcY.js";import"./react-remove-scroll-Df20_Mxm.js";import"./tslib-CDuPK5Eb.js";import"./react-remove-scroll-bar-DLmkPBsp.js";import"./react-style-singleton-Cmt3ZKmQ.js";import"./get-nonce-C-Z93AgS.js";import"./use-sidecar-s-jgbz0b.js";import"./use-callback-ref-Dc1rmTkS.js";import"./aria-hidden-DQ5UC2Eg.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function a(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(n){if(n.ep)return;n.ep=!0;const s=a(n);fetch(n.href,s)}})();const re={code:`import sys

print("Python", sys.version)

# https://github.com/vwh/python-playground`,output:"Running Python 3.12.1",error:null,direction:"vertical",pyodide:null,isPyodideLoading:!0,isCodeExecuting:!1,isLibLoading:!1},h=B((t,r)=>({...re,setCode:a=>t({code:a}),setOutput:a=>t(o=>({output:o.output+`
`+a})),clearOutput:(a="")=>t({output:a}),setError:a=>t({error:a}),setDirection:a=>t({direction:a}),initializePyodide:async()=>{if(!window.loadPyodide){t({error:"Pyodide script not loaded.",isPyodideLoading:!1});return}try{const a=await window.loadPyodide();await a.loadPackage("micropip");const o=await a.pyimport("micropip");window.micropip=o,t({pyodide:a,isPyodideLoading:!1})}catch(a){console.error("Failed to load Pyodide:",a),t({error:"Failed to load Pyodide. Please refresh the page and try again.",isPyodideLoading:!1})}},pipInstall:async a=>{const{setOutput:o,setError:n}=r(),s=a.replace("pip install ","").trim();if(!(!window.micropip||!s)){t({isLibLoading:!0});try{await window.micropip.install(s,!0),o(`pip install ${s} successfully installed`),n(null)}catch(i){n(`Failed to install ${s}: ${i.message}`)}finally{t({isLibLoading:!1})}}},runCode:async a=>{const{pyodide:o,setError:n,setOutput:s}=r();if(o){t({isCodeExecuting:!0});try{n(null);const i=[];o.globals.set("print",(...c)=>{const d=c.join(" ");i.push(d),s(i.join(`
`))}),await o.runPythonAsync(a)}catch(i){console.error(i),n(i instanceof Error?i.message:"An unknown error occurred")}finally{t({isCodeExecuting:!1})}}}})),ae=t=>{if(t)try{return atob(t)}catch(r){return console.error("Failed to decode parameter:",r),null}return null};function D({text:t}){return e.jsxs("div",{className:"flex items-center gap-1 text-foreground",children:[e.jsx(P,{className:"h-5 w-5 animate-spin"}),e.jsx("p",{className:"font-bold",children:t})]})}function se(){const{code:t,setCode:r}=h(),a=l.useCallback(s=>{s&&r(s)},[r]),o=l.useMemo(()=>({minimap:{enabled:!1},scrollBeyondLastLine:!1,fontSize:14,fontFamily:"'Fira Code', monospace",fontLigatures:!0,cursorSmoothCaretAnimation:"on",smoothScrolling:!0,padding:{top:16,bottom:16},renderLineHighlight:"all",matchBrackets:"always",autoClosingBrackets:"always",autoClosingQuotes:"always",formatOnPaste:!0,formatOnType:!0}),[]),n=l.useCallback(s=>{s.focus()},[]);return e.jsx("div",{className:"h-full w-full overflow-hidden rounded-lg shadow-lg",children:e.jsx(I,{defaultLanguage:"python",theme:"vs-dark",value:t,onChange:a,loading:e.jsx(D,{text:"Initializing Editor"}),options:o,onMount:n,className:"h-full w-full"})})}function m(...t){return Y(X(t))}const ne=J("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),p=l.forwardRef(({className:t,variant:r,size:a,asChild:o=!1,...n},s)=>{const i=o?Q:"button";return e.jsx(i,{className:m(ne({variant:r,size:a,className:t})),ref:s,...n})});p.displayName="Button";const k=l.forwardRef(({className:t,type:r,...a},o)=>e.jsx("input",{type:r,className:m("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:o,...a}));k.displayName="Input";const L=({shouldScaleBackground:t=!0,...r})=>e.jsx(u.Root,{shouldScaleBackground:t,...r});L.displayName="Drawer";const oe=u.Trigger,ie=u.Portal,le=u.Close,S=l.forwardRef(({className:t,...r},a)=>e.jsx(u.Overlay,{ref:a,className:m("fixed inset-0 z-[100] bg-black/80",t),...r}));S.displayName=u.Overlay.displayName;const R=l.forwardRef(({className:t,children:r,...a},o)=>e.jsxs(ie,{children:[e.jsx(S,{}),e.jsxs(u.Content,{ref:o,className:m("fixed inset-x-0 bottom-0 z-[100] mt-24 flex h-auto flex-col rounded-t-[10px] bg-background",t),...a,children:[e.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),r]})]}));R.displayName="DrawerContent";const z=({className:t,...r})=>e.jsx("div",{className:m("grid gap-1.5 p-4 text-center sm:text-left",t),...r});z.displayName="DrawerHeader";const O=({className:t,...r})=>e.jsx("div",{className:m("mt-auto flex flex-col gap-2 p-4",t),...r});O.displayName="DrawerFooter";const E=l.forwardRef(({className:t,...r},a)=>e.jsx(u.Title,{ref:a,className:m("text-lg font-semibold leading-none tracking-tight",t),...r}));E.displayName=u.Title.displayName;const T=l.forwardRef(({className:t,...r},a)=>e.jsx(u.Description,{ref:a,className:m("text-sm text-muted-foreground",t),...r}));T.displayName=u.Description.displayName;const v=({title:t,children:r})=>e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-sm text-muted-foreground",children:t}),e.jsx("div",{className:"flex flex-col gap-1",children:r})]});function ce(){const{code:t,pipInstall:r,isLibLoading:a}=h(),o=l.useCallback(()=>{const i=new Blob([t],{type:"text/plain"}),c=URL.createObjectURL(i),d=document.createElement("a");d.download="code.py",d.href=c,d.click(),URL.revokeObjectURL(c)},[t]),n=l.useCallback(async i=>{i.preventDefault();const c=new FormData(i.currentTarget).get("lib");await r(c)},[r]),s=l.useCallback(()=>{const i=new URLSearchParams(window.location.search);i.set("v",btoa(t));const c=`${window.location.origin}${window.location.pathname}?${i.toString()}${window.location.hash}`;window.history.replaceState({},document.title,c),navigator.clipboard.writeText(c)},[t]);return e.jsxs(L,{children:[e.jsx(oe,{asChild:!0,children:e.jsxs(p,{title:"Open Settings",variant:"secondary",className:"flex items-center space-x-2",children:[e.jsx(U,{className:"h-5 w-5"}),e.jsx("span",{className:"hidden md:inline",children:"Settings"})]})}),e.jsx(R,{children:e.jsxs("div",{className:"mx-auto w-full max-w-md",children:[e.jsxs(z,{children:[e.jsx(E,{className:"text-foreground",children:"Settings"}),e.jsx(T,{children:"Personalize your site experience here."})]}),e.jsxs("div",{className:"flex flex-col gap-4 px-4 py-2 pb-0",children:[e.jsx(v,{title:"Download libraries",children:e.jsxs("form",{className:"flex gap-1",onSubmit:n,children:[e.jsx(k,{type:"text",name:"lib",className:"text-foreground",placeholder:"pip install numpy",disabled:a}),e.jsx(p,{title:"Download library",variant:"secondary",type:"submit",disabled:a,children:a?e.jsx(H,{className:"h-5 w-5 animate-spin"}):e.jsx(j,{className:"h-5 w-5"})})]})}),e.jsxs(v,{title:"Share your code",children:[e.jsxs(p,{title:"Download the code",variant:"secondary",onClick:o,className:"flex items-center justify-center",children:[e.jsx(j,{className:"mr-2 h-5 w-5"}),e.jsx("span",{children:"Download Code"})]}),e.jsxs(p,{title:"Share the code",variant:"secondary",onClick:s,className:"flex items-center justify-center",children:[e.jsx(M,{className:"mr-2 h-5 w-5"}),e.jsx("span",{children:"Share Code"})]})]})]}),e.jsx(O,{children:e.jsx(le,{asChild:!0,children:e.jsx(p,{title:"Close the drawer",variant:"secondary",children:"Close"})})})]})})]})}const de=()=>{const{setDirection:t,direction:r,clearOutput:a,setError:o,runCode:n,code:s,isCodeExecuting:i}=h(),c=l.useCallback(()=>{t(r==="vertical"?"horizontal":"vertical")},[r,t]),d=l.useCallback(()=>{a("Running Python 3.12.1"),o(null)},[a,o]),f=l.useCallback(()=>{n(s)},[n,s]);return e.jsx("nav",{className:"mb-2 w-full rounded-b-lg bg-gray-900 px-4 py-2",children:e.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-1 sm:justify-between md:gap-2",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-1 md:gap-2",children:[e.jsx(b,{onClick:f,disabled:i,icon:i?e.jsx(P,{className:"h-5 w-5 animate-spin"}):e.jsx(A,{className:"h-5 w-5"}),label:"Run",title:"Execute Python Code"}),e.jsx(b,{onClick:d,disabled:i,icon:e.jsx(G,{className:"h-5 w-5"}),label:"Clear Terminal",title:"Clear Terminal"}),e.jsx(b,{onClick:c,icon:e.jsx(V,{className:"h-5 w-5"}),label:r.substring(0,1).toUpperCase()+r.substring(1),title:"Change direction"})]}),e.jsx("div",{className:"flex items-center",children:e.jsx(ce,{})})]})})},b=l.memo(({onClick:t,disabled:r,icon:a,label:o,title:n})=>e.jsxs(p,{onClick:t,disabled:r,variant:"secondary",className:"text-foreground",title:n,children:[a,e.jsx("span",{className:"ml-2 hidden sm:inline",children:o})]}));b.displayName="NavButton";const ue=l.memo(de),me=()=>{const{code:t}=h(),r=l.useMemo(()=>({lines:t.split(`
`).length,words:t.trim().split(/\s+/).length,characters:t.length}),[t]);return e.jsx("div",{className:"fixed bottom-1 left-1/2 z-50 hidden -translate-x-1/2 transform rounded-lg border border-accent md:block",children:e.jsxs("div",{className:"tex flex items-center space-x-2 bg-secondary bg-opacity-80 px-4 py-2 text-foreground shadow-lg backdrop-blur-sm",children:[e.jsx(w,{icon:e.jsx(W,{size:16}),value:r.lines,label:"Lines"}),e.jsx(w,{icon:e.jsx(_,{size:16}),value:r.words,label:"Words"}),e.jsx(w,{icon:e.jsx(q,{size:16}),value:r.characters,label:"Chars"})]})})},w=({icon:t,value:r,label:a})=>e.jsxs("div",{className:"flex items-center gap-1 space-x-1",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[t,e.jsx("span",{className:"font-medium",children:r})]}),e.jsx("span",{className:"text-xs text-foreground/55",children:a})]}),pe={pwd:"import os; print(os.getcwd())"};function fe(){const{output:t,error:r,setOutput:a,isPyodideLoading:o,runCode:n,pipInstall:s}=h(),[i,c]=l.useState(""),d=l.useRef(null),f=l.useCallback(()=>{d.current&&(d.current.scrollTop=d.current.scrollHeight)},[]);l.useEffect(()=>{f()},[t,f]);const y=l.useCallback(async g=>{g.preventDefault();const x=new FormData(g.currentTarget).get("terminalCode");x.trim()&&(a(x),x.includes("pip install")?await s(x):x==="pwd"?await n(pe.pwd):await n(x),c(""))},[n,a,s]);return o?e.jsx("div",{className:"flex h-full items-center justify-center bg-gray-900",children:e.jsx(D,{text:"Initializing Python Environment"})}):e.jsxs("div",{ref:d,className:"h-full w-full overflow-y-auto bg-gray-900 px-4 py-3 font-mono text-sm text-gray-300",children:[(r||t)&&e.jsx("div",{className:`whitespace-pre-wrap ${r?"text-red-400":"text-gray-300"}`,children:r||t}),e.jsxs("form",{className:"flex items-center gap-2",onSubmit:y,children:[e.jsx("span",{className:"text-green-400",children:">>>"}),e.jsx("input",{value:i,name:"terminalCode",onChange:g=>c(g.target.value),className:"w-full bg-transparent text-gray-300 outline-none",autoComplete:"off",placeholder:"..."})]})]})}const $=C.memo(function({mainCircleSize:r=210,mainCircleOpacity:a=.24,numCircles:o=8}){return e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white/5 [mask-image:linear-gradient(to_bottom,white,transparent)]",children:Array.from({length:o},(n,s)=>{const i=r+s*70,c=a-s*.03,d=`${s*.06}s`,f=s===o-1?"dashed":"solid",y=5+s*5;return e.jsx("div",{className:`absolute animate-ripple rounded-full border bg-foreground/25 shadow-xl [--i:${s}]`,style:{width:`${i}px`,height:`${i}px`,opacity:c,animationDelay:d,borderStyle:f,borderWidth:"1px",borderColor:`hsl(var(--foreground), ${y/100})`,top:"50%",left:"50%",transform:"translate(-50%, -50%) scale(1)"}},s)})})});$.displayName="Ripple";const xe=({className:t,...r})=>e.jsx(Z,{className:m("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",t),...r}),N=ee,he=({withHandle:t,className:r,...a})=>e.jsx(te,{className:m("relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90",r),...a,children:t&&e.jsx("div",{className:"z-[99] flex h-16 w-4 items-center justify-center rounded border bg-background dark:border-secondary",children:e.jsx(K,{className:"h-[12px] w-[12px] text-foreground"})})});function ge(){const{direction:t,setCode:r,initializePyodide:a,isPyodideLoading:o}=h();return l.useEffect(()=>{a();const s=new URLSearchParams(window.location.search).get("v");if(s){const i=ae(s);i&&r(i)}},[a,r]),o?e.jsx("section",{className:"absolute z-[999] flex h-screen w-full flex-col items-center justify-center gap-3 bg-background text-foreground",children:e.jsxs("div",{className:"relative flex h-full w-full flex-col items-center justify-center overflow-hidden bg-background md:shadow-xl",children:[e.jsx("p",{className:"z-10 animate-pulse whitespace-pre-wrap text-center text-2xl font-bold tracking-tighter text-white",children:"Loading"}),e.jsx($,{})]})}):e.jsxs("main",{className:"flex h-screen flex-col bg-background md:mx-2 md:pb-3",children:[e.jsx(ue,{}),e.jsxs(xe,{className:"border-t border-accent md:rounded-lg md:border",direction:t,children:[e.jsx(N,{defaultSize:65,children:e.jsx(se,{})}),e.jsx(he,{className:"border-[1px]",withHandle:!0}),e.jsx(N,{defaultSize:35,children:e.jsx(fe,{})})]}),e.jsx(me,{})]})}F.createRoot(document.getElementById("root")).render(e.jsx(C.StrictMode,{children:e.jsx(ge,{})}));
